(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{449:function(t,e,r){"use strict";r.r(e);var a=r(42),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"microfront微前端实践"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#microfront微前端实践"}},[t._v("#")]),t._v(" microfront微前端实践")]),t._v(" "),r("h3",{attrs:{id:"技术栈"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#技术栈"}},[t._v("#")]),t._v(" 技术栈")]),t._v(" "),r("p",[t._v("主要基于qiankun框架")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://www.mamicode.com/info-detail-2916760.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("主要架构"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("[思路解析]（https://blog.csdn.net/zjscy666/article/details/108295950）")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.im/post/6844904185910018062#heading-22",target:"_blank",rel:"noopener noreferrer"}},[t._v("总结"),r("OutboundLink")],1)])]),t._v(" "),r("h3",{attrs:{id:"操作步骤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#操作步骤"}},[t._v("#")]),t._v(" 操作步骤")]),t._v(" "),r("ul",[r("li",[t._v("在main工程下index.html修改路由连接")]),t._v(" "),r("li",[t._v("在main工程下的index.js中注册微应用")]),t._v(" "),r("li",[t._v("在子应用中修改入口文件，增加mount bootstrap unmount方法")]),t._v(" "),r("li",[t._v("在子应用中引入_webpack_public-path__= window."),r("strong",[t._v("INJECTED_PUBLIC_PATHBY_QIANKUN")]),t._v(" 变量")]),t._v(" "),r("li",[t._v("修改子应用的root元素id，不能与其他子应用冲突")]),t._v(" "),r("li",[t._v("如果用到路由，需要修改路由的basepath配置，与main工程下注册的跟路径保持一致")]),t._v(" "),r("li",[t._v("修改子应用的webpack配置，{library: '应用名', libraryTarget: 'umd'}")]),t._v(" "),r("li",[t._v("修改子应用的webpackDevServer配置增加header:{'access-control-allow-origin': '*'}")])]),t._v(" "),r("h3",{attrs:{id:"问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/fe21355be9b5",target:"_blank",rel:"noopener noreferrer"}},[t._v("子应用间通讯"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("[子应用间通讯2]（https://www.lizenghai.com/archives/78309.html）")]),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/tech/tool/webpack/"}},[t._v("静态图片资源访问异常")])],1),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.cnblogs.com/scdisplay/p/13218956.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于qiankun微服务css文件中引用路径的解决方法"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/tech/tool/webpack/"}},[t._v("生命周期无法找到")])],1),t._v(" "),r("li",[r("a",{attrs:{href:"https://qiankun.umijs.org/zh/api#loadmicroappapp-configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("外链url跨域"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://qiankun.umijs.org/zh/faq/#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%BE%AE%E5%BA%94%E7%94%A8%E5%8A%A0%E8%BD%BD%E7%9A%84%E8%B5%84%E6%BA%90%E4%BC%9A-404%EF%BC%9F",target:"_blank",rel:"noopener noreferrer"}},[t._v("资源404"),r("OutboundLink")],1)])]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("webpack中的webpack-hot-middleware react-hot-loader影响生命周期获取，需要调整顺序把entry入口文件放到最下面\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("ul",[r("li",[t._v("样式污染")]),t._v(" "),r("li",[t._v("js sandbox，引入的js文件导致全局变量获取不到。")])]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("解决方案在主工程中引入这个js文件，或对这个变量重新声明\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("h3",{attrs:{id:"补充资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#补充资料"}},[t._v("#")]),t._v(" 补充资料")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://juejin.im/post/6844904115999342600",target:"_blank",rel:"noopener noreferrer"}},[t._v("qiankun架构解析"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://qiankun.umijs.org/zh/faq#application-died-in-status-loading_source_code-you-need-to-export-the-functional-lifecycles-in-xxx-entry",target:"_blank",rel:"noopener noreferrer"}},[t._v("qiankun常见错误"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://juejin.im/post/6844904113029775367",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于 qiankun 的微前端实践"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.csdn.net/zjscy666/article/details/107864891",target:"_blank",rel:"noopener noreferrer"}},[t._v("qiankun样式冲突解决方案"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.javascriptc.com/3977.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("qiankun sandbox"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/umijs/qiankun/issues/380",target:"_blank",rel:"noopener noreferrer"}},[t._v("qiankun全局资源引用异常"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/78362028",target:"_blank",rel:"noopener noreferrer"}},[t._v("微前端实践"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);