(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{382:function(s,a,e){"use strict";e.r(a);var n=e(42),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"获取定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取定位"}},[s._v("#")]),s._v(" 获取定位")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/e97ce50b189f",target:"_blank"}},[s._v("获取定位api")])]),s._v(" "),e("li",[s._v("其中有个报错需要在app.json中声明permission")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('  "permission": {\n    "scope.userLocation": {\n      "desc": "你的位置信息将用于小程序位置接口的效果展示" \n    }\n  },\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("ul",[e("li",[s._v("还有个app需要声明")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var app = getApp();\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[e("a",{attrs:{href:"https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview",target:"_blank"}},[s._v("添加腾讯地图插件")]),s._v(" 并添加相关插件配置")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('  "plugins": {\n    "routePlan": {\n      "version": "1.0.5",\n      "provider": "wx50b5593e81dd937a"\n    }\n  },\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v("创建腾讯定位APIkey")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("CLEBZ-KE76G-KBAQF-IYGEE-OEI3V-GUBUD\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v('如果出现报错：微信小程序中通过腾讯地图进行逆地址解析报错message: "请求来源未被授权, 此次请求来源域名"servicewechat.com"需要配置API的域名白名单。\n'),e("img",{attrs:{src:"2020-07-04-17-41-07.png",alt:""}})])])])}),[],!1,null,null,null);a.default=t.exports}}]);